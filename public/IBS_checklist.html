<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>IBS Diagnosis Checklist</title>
  <link rel="stylesheet" href="IBS_checklist.css">
</head>
<body>
  <div class="container">
   <div class="title-with-logos">
      <img src="Images/Blue logo progenics.png" />
      <h1>IBS Diagnosis Checklist</h1>
      <img src="Images/Gut Genics logo.png" />
   </div>

   <form id="checklist-form" method="POST" action="/submit">     
      <!-- Section 1 -->
      <div class="form-block three-col">
        <div class="form-group">
          <label for="name">Name:</label>
          <input type="text" id="name" name="name" />
        </div>
        <div class="form-group">
          <label for="age">Age:</label>
          <input type="number" id="age" name="age" />
        </div>
        <div class="form-group">
          <label for="sex">Gender:</label>
          <select id="sex" name="sex">
            <option value="">Select</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Others">Others</option>
          </select>
        </div>
      </div>

      <!-- Second Block: 2 Columns -->
      <div class="form-block two-col">
        <div class="form-group">
          <label for="phone">Phone No:</label>
          <div class="phone-input-container">
          <select id="country-code" name="country-code" class="country-select">
            <option value="+91" data-flag="ðŸ‡®ðŸ‡³">+91 (India)</option>
             <option value="+1" data-flag="ðŸ‡ºðŸ‡¸">+1 (USA)</option>
            <option value="+44" data-flag="ðŸ‡¬ðŸ‡§">+44 (UK)</option>
            <option value="+61" data-flag="ðŸ‡¦ðŸ‡º">+61 (Australia)</option>
            <option value="+86" data-flag="ðŸ‡¨ðŸ‡³">+86 (China)</option>
            <option value="+81" data-flag="ðŸ‡¯ðŸ‡µ">+81 (Japan)</option>
            <option value="+49" data-flag="ðŸ‡©ðŸ‡ª">+49 (Germany)</option>
            <option value="+33" data-flag="ðŸ‡«ðŸ‡·">+33 (France)</option>
            <option value="+39" data-flag="ðŸ‡®ðŸ‡¹"> +39 (Italy)</option>
            <option value="+7" data-flag="ðŸ‡·ðŸ‡º"> +7 (Russia)</option>
            <option value="+82" data-flag="ðŸ‡°ðŸ‡·">+82 (South Korea)</option>
            <option value="+34" data-flag="ðŸ‡ªðŸ‡¸">+34 (Spain)</option>
            <option value="+55" data-flag="ðŸ‡§ðŸ‡·">+55 (Brazil)</option>
            <option value="+52" data-flag="ðŸ‡²ðŸ‡½">+52 (Mexico)</option>
            <option value="+971" data-flag="ðŸ‡¦ðŸ‡ª">+971 (UAE)</option>
            <option value="+966" data-flag="ðŸ‡¸ðŸ‡¦">+966 (Saudi Arabia)</option>
            <option value="+65" data-flag="ðŸ‡¸ðŸ‡¬">+65 (Singapore)</option>
            <option value="+64" data-flag="ðŸ‡³ðŸ‡¿">+64 (New Zealand)</option>
            <option value="+27" data-flag="ðŸ‡¿ðŸ‡¦">+27 (South Africa)</option>
            <option value="+60" data-flag="ðŸ‡²ðŸ‡¾">+60 (Malaysia)</option>
            <option value="+92" data-flag="ðŸ‡µðŸ‡°">+92 (Pakistan)</option>
            <option value="+880" data-flag="ðŸ‡§ðŸ‡©">+880 (Bangladesh)</option>
            <option value="+94" data-flag="ðŸ‡±ðŸ‡°">+94 (Sri Lanka)</option>
            <option value="+977" data-flag="ðŸ‡³ðŸ‡µ">+977 (Nepal)</option>
            <option value="+95" data-flag="ðŸ‡²ðŸ‡²">+95 (Myanmar)</option>
          </select>
          <input type="tel" id="phone" name="phone" pattern="[0-9]*" inputmode="numeric" onkeypress="return /[0-9]/i.test(event.key)" oninput="this.value = this.value.replace(/[^0-9]/g, '')" class="phone-input"  />
        </div>
        </div>
        <div class="form-group">
          <label for="email">Email:</label>
          <input type="email" id="email" name="email" />
        </div>
      </div>

      <!-- Section 1 -->
      <div class="section sec-1">
        <h2>
          1. How to Define IBS
          <div style="display: flex; align-items: center; gap: 10px;">
            <div class="progress-container"><div class="progress-fill" id="progress-sec-1"></div></div>
            <span id="percent-sec-1">0%</span>
          </div>
        </h2>
        <div class="highlight checkbox-group">
          <label><input type="checkbox" class="check-item sec-1" name="sec-1" value="Recurrent abdominal pain (>1 day/week in the last 3 months)"><span class="checkmark"></span> Recurrent abdominal pain (â‰¥1 day/week in the last 3 months)</label>
          <label><input type="checkbox" class="check-item sec-1" name="sec-1" value="Bloating or abdominal distension"><span class="checkmark"></span> Bloating or abdominal distension</label>
          <label><input type="checkbox" class="check-item sec-1" name="sec-1" value="Change in bowel frequency and stool form and shape"><span class="checkmark"></span> Change in bowel frequency and stool form and shape</label>
        </div>
      </div>

      <!-- Section 2 -->
      <div class="section sec-2">
        <h2>
          2. Pathophysiology
          <div style="display: flex; align-items: center; gap: 10px;">
            <div class="progress-container"><div class="progress-fill" id="progress-sec-2"></div></div>
            <span id="percent-sec-2">0%</span>
          </div>
        </h2>
        <div class="highlight checkbox-group">
          <label><input type="checkbox" class="check-item sec-2" name="sec-2" value="Stress or anxiety"><span class="checkmark"></span> Stress or anxiety</label>
          <label><input type="checkbox" class="check-item sec-2" name="sec-2" value="Abnormal pain signaling"><span class="checkmark"></span> Abnormal pain signaling</label>
          <label><input type="checkbox" class="check-item sec-2" name="sec-2" value="Visceral hypersensitivity"><span class="checkmark"></span> Visceral hypersensitivity</label>
          <label><input type="checkbox" class="check-item sec-2" name="sec-2" value="Dysregulated gut motility"><span class="checkmark"></span> Dysregulated gut motility</label>
          <label><input type="checkbox" class="check-item sec-2" name="sec-2" value="Microbiota disturbance"><span class="checkmark"></span> Microbiota disturbance</label>
          <label><input type="checkbox" class="check-item sec-2" name="sec-2" value="Gut Inflammation"><span class="checkmark"></span> Gut Inflammation</label>
          <label><input type="checkbox" class="check-item sec-2" name="sec-2" value="Gas production/bloating"><span class="checkmark"></span> Gas production/bloating</label>
          <label><input type="checkbox" class="check-item sec-2" name="sec-2" value="Dietary trigger"><span class="checkmark"></span> Dietary trigger</label>
        </div>
      </div>

      <!-- Section 3 -->
      <div class="section sec-3">
        <h2>
          3. Confident Diagnosis
          <div style="display: flex; align-items: center; gap: 10px;">
            <div class="progress-container"><div class="progress-fill" id="progress-sec-3"></div></div>
            <span id="percent-sec-3">0%</span>
          </div>
        </h2>
        <div class="highlight checkbox-group">
          <label><input type="checkbox" class="check-item sec-3" name="sec-3" value="Symptoms > 6 months in duration"><span class="checkmark"></span> Symptoms > 6 months in duration</label>
          <label><input type="checkbox" class="check-item sec-3" name="sec-3" value="Abdominal pain >1 day/week"><span class="checkmark"></span> Abdominal pain â‰¥1 day/week</label>
          <label><input type="checkbox" class="check-item sec-3" name="sec-3" value="Pain related to defecation"><span class="checkmark"></span> Pain related to defecation</label>
          <strong>Stool changes in form/frequency (Bristol Stool Chart Reference)</strong>
          <label><input type="checkbox" class="check-item sec-3" name="sec-3" value="Type 1: Separate hard lumps, like nuts (hard to pass)"><span class="checkmark"></span> Type 1: Separate hard lumps, like nuts (hard to pass)</label>
          <label><input type="checkbox" class="check-item sec-3" name="sec-3" value="Type 2: Lumpy and sausage-shaped"><span class="checkmark"></span> Type 2: Lumpy and sausage-shaped</label>
          <label><input type="checkbox" class="check-item sec-3" name="sec-3" value="Type 3: Like a sausage with cracks"><span class="checkmark"></span> Type 3: Like a sausage with cracks</label>
          <label><input type="checkbox" class="check-item sec-3" name="sec-3" value="Type 4: Smooth, soft sausage or snake"><span class="checkmark"></span> Type 4: Smooth, soft sausage or snake</label>
          <label><input type="checkbox" class="check-item sec-3" name="sec-3" value="Type 5: Soft blobs with clear-cut edges"><span class="checkmark"></span> Type 5: Soft blobs with clear-cut edges</label>
          <label><input type="checkbox" class="check-item sec-3" name="sec-3" value="Type 6: Mushy with ragged edges"><span class="checkmark"></span> Type 6: Mushy with ragged edges</label>
          <label><input type="checkbox" class="check-item sec-3" name="sec-3" value="Type 7: Watery, no solid pieces"><span class="checkmark"></span> Type 7: Watery, no solid pieces</label>
        </div>
      </div>

      <!-- Section 4 -->
      <div class="section sec-4">
        <h2>
          4. Warning Signs 
          <div style="display: flex; align-items: center; gap: 10px;">
            <div class="progress-container"><div class="progress-fill" id="progress-sec-4"></div></div>
            <span id="percent-sec-4">0%</span>
          </div>
        </h2>
        <div class="highlight warning checkbox-group">
          <label><input type="checkbox" class="check-item sec-4" name="sec-4" value="Blood in stool"><span class="checkmark"></span> Blood in stool</label>
          <label><input type="checkbox" class="check-item sec-4" name="sec-4" value="Anemia or low hemoglobin"><span class="checkmark"></span> Anemia or low hemoglobin</label>
          <label><input type="checkbox" class="check-item sec-4" name="sec-4" value="Abdominal mass"><span class="checkmark"></span> Abdominal mass</label>
          <label><input type="checkbox" class="check-item sec-4" name="sec-4" value="Fecal Incontinence"><span class="checkmark"></span> Fecal Incontinence</label>
          <label><input type="checkbox" class="check-item sec-4" name="sec-4" value="Weight loss"><span class="checkmark"></span> Weight loss</label>
          <label><input type="checkbox" class="check-item sec-4" name="sec-4" value="Fever"><span class="checkmark"></span> Fever</label>
          <label><input type="checkbox" class="check-item sec-4" name="sec-4" value="Nocturnal symptoms"><span class="checkmark"></span> Nocturnal symptoms</label>
          <label><input type="checkbox" class="check-item sec-4" name="sec-4" value="Family history of IBD, celiac, cancer"><span class="checkmark"></span> Family history of IBD, celiac, cancer</label>
          <label><input type="checkbox" class="check-item sec-4" name="sec-4" value="New symptom onset (<6 months)"><span class="checkmark"></span> New symptom onset (&lt;6 months)</label>
          <label><input type="checkbox" class="check-item sec-4" name="sec-4" value="Recent antibiotic use"><span class="checkmark"></span> Recent antibiotic use</label>
          <label><input type="checkbox" class="check-item sec-4" name="sec-4" value="Extra-intestinal signs (rash, arthritis, eye Inflammation)"><span class="checkmark"></span> Extra-intestinal signs (rash, arthritis, eye Inflammation)</label>
        </div>
      </div>

      <!-- Overall Summary -->
      <div class="overall-summary">
        <h3>Overall Completion</h3>
        <div class="overall-progress-bar" aria-hidden="true">
          <div class="overall-progress-fill" id="overall-progress-fill" style="width:0%"></div>
        </div>
        <div class="overall-percentage" id="overall-percentage">0%</div>
        <div class="current-risk-label" id="current-risk-label"></div>
        <div class="low-risk-message" id="low-risk-message" style="display:none; color:#1a7f37; font-weight:bold; margin: 20px 0 0 0; text-align:center;">
          You have low-risk IBS symptoms with no active inflammation. A diet of easily digestible foods is recommended, while avoiding known triggers. For optimal management, contact the Progenics team.
        </div>
        <div class="moderate-risk-message" id="moderate-risk-message" style="display:none; color:#e6a700; font-weight:bold; margin: 20px 0 0 0; text-align:center;">
          You have moderate-risk IBS symptoms with noticeable inflammation. A personalized gut microbiome test with carefully planned diet of easily digestible foods is recommended. Connect with the Progenics team for better management and nutritional support.
        </div>
        <div class="high-risk-message" id="high-risk-message" style="display:none; color:#ff0000; font-weight:bold; margin: 20px 0 0 0; text-align:center;">
          <span style="font-size:1.2em; text-transform:uppercase;">"RED ALERT!"</span><br>
          You have high-risk IBS symptoms with active inflammation. A personalized gut microbiome test with restrictive diet focusing on easily digestible foods is essential. Connect with Progenics team for optimal care and management.
        </div>
      </div>

      <div style="text-align: center; margin: 30px 0;">
        <button type="submit" id="submitBtn" class="submit-button">Submit</button>
      </div>
         <div class="disclaimer" style="text-align:center; color:#888; font-size:0.95em; margin-bottom:30px;">
      <strong style="color:#0074d9;">Disclaimer:</strong> This tool is for educational purposes only and is not a medical diagnosis. Always consult a healthcare professional for any health concerns or symptoms. The final diagnosis must be made by a qualified clinician.
    </div>
    </form>
  </div>

  <!-- Summary Modal -->
  <div id="summaryModal" class="modal">
    <div class="modal-content">
      <span class="close-button">&times;</span>
      <h2>IBS Health Assessment Summary</h2>
      <div class="modal-body">
        <div class="patient-info">
          <h3>Patient Information</h3>
          <div class="patient-details-grid">
            <div class="detail-row">
              <div class="detail-item">
                <label>Name:</label>
                <span id="modal-name"></span>
              </div>
              <div class="detail-item">
                <label>Age:</label>
                <span id="modal-age"></span>
              </div>
              <div class="detail-item">
                <label>Gender:</label>
                <span id="modal-gender"></span>
              </div>
            </div>
            <div class="detail-row">
              <div class="detail-item">
                <label>Email:</label>
                <span id="modal-email"></span>
              </div>
              <div class="detail-item">
                <label>Phone:</label>
                <span id="modal-phone"></span>
              </div>
            </div>
          </div>
        </div>
        <div class="assessment-results">
          <div class="summary-header">
            <div class="risk-level">
              Risk Level: <span id="modal-risk-level" class="risk-value"></span>
            </div>
            <div id="modal-percentage" class="percentage-value"></div>
          </div>
          <div class="modal-progress-bar">
            <div id="modal-progress-fill"></div>
          </div>
          <div id="modal-message" class="summary-message"></div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="IBS_checklist.js"></script>
</body>
</html>
